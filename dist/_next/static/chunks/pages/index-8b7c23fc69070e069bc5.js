(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5774:function(e,t,n){"use strict";var r=n(5893),i=(n(7294),n(1664));t.Z=function(e){var t=e.children;return(0,r.jsxs)("header",{className:"bg-gray-900 p-4 text-gray-200 flex flex-row justify-between items-center",children:[(0,r.jsx)(i.default,{href:"/",children:(0,r.jsx)("a",{children:(0,r.jsx)("h2",{className:"text-4xl",children:"LB 02"})})}),(0,r.jsx)("div",{children:t})]})}},5284:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return pe}});var r=n(5893),i=n(7294),o=n(2212),a=new o.pBf,s="shuffle-start",c="shuffle-stop",u="reset",l="push-move",f="checkers",h="enable-controls",v=function(e){return{type:l,move:e}},d=function(){return{type:s}},p=function(){return{type:c}},y=function(){return{type:u}},m=function(){return{type:f}},w=function(e){var t=e.children,n=e.eventCreator;return(0,r.jsx)("button",{className:"shadow mx-2 px-4 py-2 text-white rounded-lg bg-blue-800 focus:outline-none active:bg-blue-900",onClick:function(){a.dispatchEvent(n())},children:t})},b=n(5774),g=n(7329),Z=n(6610),P=n(5991),x=n(6156);var j=n(3349),k=n(5255),M=n(6089),O=n(7608),R=n(4569);function E(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A,C,I,N=new o.SUY,D=[];var L={init:function(e,t,n){A=e,C=t,I=n},start:function(){I.setAnimationLoop((function(){!function(){var e,t=N.getDelta(),n=E(D);try{for(n.s();!(e=n.n()).done;){e.value.tick(t)}}catch(r){n.e(r)}finally{n.f()}}(),I.render(C,A)}))},stop:function(){I.setAnimationLoop(null)}};function Q(e){D.push(e)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,O.Z)(e);if(t){var i=(0,O.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,M.Z)(this,n)}}var H=function(e){(0,k.Z)(n,e);var t=_(n);function n(e,r){var i;return(0,Z.Z)(this,n),(i=t.call(this,e,r)).enableDamping=!0,i.enablePan=!1,a.addEventListener(h,(function(e){var t=e.enabled;i.enabled=t})),Q((0,j.Z)(i)),i}return(0,P.Z)(n,[{key:"tick",value:function(){this.update()}}]),n}(R.z);var F=n(4699);var J=function(){function e(t,n,r){var i=this;(0,Z.Z)(this,e),this.camera=t,this.target=n,this.container=r,(0,x.Z)(this,"raycaster",new o.iMs),(0,x.Z)(this,"mousePosition",new o.FM8(1,1)),(0,x.Z)(this,"hoveredPlane",void 0),r.addEventListener("mousemove",(function(e){return i.onMouseMove(e)})),r.addEventListener("mousedown",(function(e){return i.onMouseDown(e)})),Q(this)}return(0,P.Z)(e,[{key:"tick",value:function(){this.raycaster.setFromCamera(this.mousePosition,this.camera);var e,t=this.raycaster.intersectObject(this.target,!0).filter((function(e){var t;return"Mesh"===e.object.type&&"Piece"===(null===(t=e.object.parent)||void 0===t?void 0:t.type)}))[0];if(t&&t.face){var n=t.object.parent,r=t.face.normal.clone().applyQuaternion(n.quaternion).round(),i=(e=r,Object.entries(e).filter((function(e){var t=(0,F.Z)(e,2)[1];return 0!==Math.abs(t)}))[0][0]),a=-n.position[i],s=new o.Pa4;s[i]=r[i];var c=new o.JOQ(s,a);this.setHoveredPlane(c)}else this.setHoveredPlane(void 0)}},{key:"onMouseDown",value:function(e){if(this.hoveredPlane){var t=void 0;if(0===e.button?t=1:2===e.button&&(t=-1),t){var n=this.hoveredPlane,r=Math.PI/2*t;a.dispatchEvent(v({plane:n,angle:r}))}}}},{key:"onMouseMove",value:function(e){var t=this.container.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;this.mousePosition.x=n/t.width*2-1,this.mousePosition.y=-r/t.height*2+1}},{key:"setHoveredPlane",value:function(e){this.hoveredPlane=e}}]),e}(),T=function(){function e(t,n,r){var i=this;(0,Z.Z)(this,e),this.camera=t,this.target=n,this.container=r,(0,x.Z)(this,"raycaster",new o.iMs),(0,x.Z)(this,"mousePosition",new o.FM8(1,1)),r.addEventListener("mousemove",(function(e){i.onMouseMove(e)})),Q(this)}return(0,P.Z)(e,[{key:"tick",value:function(){this.raycaster.setFromCamera(this.mousePosition,this.camera);var e=this.raycaster.intersectObject(this.target,!0).filter((function(e){var t;return"Mesh"===e.object.type&&"Piece"===(null===(t=e.object.parent)||void 0===t?void 0:t.type)}))[0],t=null===e||void 0===e?void 0:e.object.parent;this.setHoveredPiece(t)}},{key:"onMouseMove",value:function(e){var t=this.container.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;this.mousePosition.x=n/t.width*2-1,this.mousePosition.y=-r/t.height*2+1}},{key:"setHoveredPiece",value:function(e){this.container.style.cursor=e?"pointer":"initial"}}]),e}(),z=[new o.JOQ(new o.Pa4(1,0,0),-1),new o.JOQ(new o.Pa4(1,0,0),1),new o.JOQ(new o.Pa4(0,1,0),-1),new o.JOQ(new o.Pa4(0,1,0),1),new o.JOQ(new o.Pa4(0,0,1),-1),new o.JOQ(new o.Pa4(0,0,1),1)],U=[Math.PI/2,-Math.PI/2];function W(){return{plane:z[o.M8C.randInt(0,5)],angle:U[o.M8C.randInt(0,1)]}}var B=function(){function e(t){var n=this;(0,Z.Z)(this,e),this.pieces=t,(0,x.Z)(this,"planeRotation",void 0),(0,x.Z)(this,"moveQueue",void 0),(0,x.Z)(this,"getNextMove",void 0),this.planeRotation=void 0,this.moveQueue=[],this.getNextMove=this.getNextMoveFromQueue,a.addEventListener(s,(function(){return n.shuffleStart()})),a.addEventListener(c,(function(){return n.shuffleStop()})),a.addEventListener(l,(function(e){var t=e;n.pushMove(t.move)})),Q(this)}return(0,P.Z)(e,[{key:"tick",value:function(e){var t=this.planeRotation;if(t){var n=t.targetAngle-t.currentAngle;if(Math.abs(n)<=.1)return this.rotatePlane(t.plane,n),void this.setPlaneRotation(void 0);var r=t.targetAngle>=0?1:-1,i=4*e,a=o.M8C.lerp(0,Math.abs(t.targetAngle),i),s=Math.abs(t.targetAngle-t.currentAngle),c=Math.min(a,s)*r;t.currentAngle+=c,this.rotatePlane(t.plane,c)}else this.setPlaneRotation(this.getNextMove())}},{key:"pushMove",value:function(e){this.planeRotation?this.moveQueue.push(e):this.setPlaneRotation(e)}},{key:"shuffleStart",value:function(){this.getNextMove=W}},{key:"shuffleStop",value:function(){this.getNextMove=this.getNextMoveFromQueue}},{key:"getNextMoveFromQueue",value:function(){return this.moveQueue.shift()}},{key:"setPlaneRotation",value:function(e){this.planeRotation=e?{plane:e.plane,currentAngle:0,targetAngle:e.angle}:void 0}},{key:"rotatePlane",value:function(e,t){var n=e.normal.clone(),r=Object.entries(e.normal).filter((function(e){var t=(0,F.Z)(e,2);t[0];return 0!==t[1]}))[0][0];this.pieces.forEach((function(i){Math.abs(i.position[r]+e.constant)<=.1&&(i.parent.localToWorld(i.position),i.position.applyAxisAngle(n,t),i.parent.worldToLocal(i.position),i.rotateOnWorldAxis(n,t))}))}}]),e}(),X=n(6486),Y=new o.Ilk("white"),q=new o.Ilk(0),K=new o.Ilk("yellow"),$=new o.Ilk("red"),G=new o.Ilk("blue"),V=new o.Ilk("green"),ee={x:{bottom:{1:new o.Ilk(16210974)},top:{0:$}},y:{bottom:{3:Y},top:{2:K}},z:{bottom:{5:V},top:{4:G}}};function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,O.Z)(e);if(t){var i=(0,O.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,M.Z)(this,n)}}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,x.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=re({},Array(6).fill(q)),oe=function(e){(0,k.Z)(n,e);var t=te(n);function n(e){var r;(0,Z.Z)(this,n),r=t.call(this),(0,x.Z)((0,j.Z)(r),"cube",void 0),(0,x.Z)((0,j.Z)(r),"lines",void 0),r.type="Piece";var i=function(e){return Object.values(e).map((function(e){return new o.Wid({color:e,side:o.ehD})}))}(function(e){return re(re({},ie),e)}(e)),a=new o.nvb(1,1,1);r.cube=new o.Kj0(a,i),r.add(r.cube);var s=new o.TOt(a);return r.lines=new o.ejS(s,new o.nls({color:q,clipIntersection:!0,linewidth:5})),r.add(r.lines),r}return(0,P.Z)(n,[{key:"setHovered",value:function(e){e?this.cube.material.forEach((function(e){e.emissive.set(16711935).multiplyScalar(.5),e.needsUpdate=!0})):this.cube.material.forEach((function(e){e.emissive.set(0),e.needsUpdate=!0}))}},{key:"setColor",value:function(e){this.cube.material.forEach((function(t){t.color=e,t.needsUpdate=!0}))}}]),n}(o.ZAu),ae=function(e,t){Object.entries(t).forEach((function(t){var n=(0,F.Z)(t,2),r=n[0],i=n[1];0===i?(0,X.merge)(e,ee[r].bottom):2===i&&(0,X.merge)(e,ee[r].top)}))},se=function(){for(var e=[],t=0;t<3;t++)for(var n=0;n<3;n++)for(var r=0;r<3;r++){var i={};ae(i,{x:t,y:n,z:r});var o=new oe(i);o.position.set(t-1,n-1,r-1),e.push(o)}return e};function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,O.Z)(e);if(t){var i=(0,O.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,M.Z)(this,n)}}var ue=function(e){(0,k.Z)(n,e);var t=ce(n);function n(e,r){var i,o;return(0,Z.Z)(this,n),o=t.call(this),(0,x.Z)((0,j.Z)(o),"pieces",void 0),o.pieces=se(),(i=o).add.apply(i,(0,g.Z)(o.pieces)),new B(o.pieces),new T(r,(0,j.Z)(o),e),new J(r,(0,j.Z)(o),e),a.addEventListener(u,(function(){return o.reset()})),a.addEventListener(f,(function(){return o.checkers()})),o}return(0,P.Z)(n,[{key:"checkers",value:function(){z.forEach((function(e){a.dispatchEvent(v({plane:e,angle:Math.PI}))}))}},{key:"reset",value:function(){var e;this.remove.apply(this,(0,g.Z)(this.pieces)),this.pieces.length=0,(e=this.pieces).push.apply(e,(0,g.Z)(se())),this.add.apply(this,(0,g.Z)(this.pieces))}}]),n}(o.ZAu);var le=function(e,t,n){t.aspect=e.clientWidth/e.clientHeight,t.updateProjectionMatrix(),n.setSize(e.clientWidth,e.clientHeight),n.setPixelRatio(window.devicePixelRatio)},fe=function e(t,n,r){(0,Z.Z)(this,e),le(t,n,r),window.addEventListener("resize",(function(){le(t,n,r)}))},he=function(){function e(t){var n;(0,Z.Z)(this,e),(0,x.Z)(this,"camera",void 0),(0,x.Z)(this,"scene",void 0),(0,x.Z)(this,"renderer",void 0),(0,x.Z)(this,"cube",void 0),this.camera=function(){var e=new o.cPb(90,1,.1,100);return e.position.set(0,3,5),e}(),this.scene=function(){var e=new o.xsS;return e.background=new o.Ilk("skyblue"),e}(),this.renderer=function(){var e=new o.CP7({antialias:!0});return e.physicallyCorrectLights=!0,e}(),t.appendChild(this.renderer.domElement);var r=[new o.Mig("white",5)];(n=this.scene).add.apply(n,(0,g.Z)(r)),new H(this.camera,this.renderer.domElement),this.cube=new ue(t,this.camera),this.scene.add(this.cube),new fe(t,this.camera,this.renderer),L.init(this.camera,this.scene,this.renderer)}return(0,P.Z)(e,[{key:"start",value:function(){L.start()}},{key:"stop",value:function(){L.stop()}}]),e}(),ve=n(9008),de=n(1664),pe=function(){var e=(0,i.useRef)();return(0,i.useEffect)((function(){new he(e.current).start()}),[]),(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(ve.default,{children:(0,r.jsx)("title",{children:"Rubik's Cube"})}),(0,r.jsx)(b.Z,{children:(0,r.jsx)(de.default,{href:"/impressum",children:(0,r.jsx)("a",{children:"Impressum"})})}),(0,r.jsx)("main",{ref:e,className:"flex-grow bg-blue-400 relative",children:(0,r.jsxs)("div",{className:"absolute top-0 left-0 right-0 p-4 flex justify-center",children:[(0,r.jsx)(w,{eventCreator:y,children:"Reset"}),(0,r.jsx)(w,{eventCreator:d,children:"Shuffle Start"}),(0,r.jsx)(w,{eventCreator:p,children:"Shuffle Stop"}),(0,r.jsx)(w,{eventCreator:m,children:"Checkers"})]})})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5284)}])}},function(e){e.O(0,[737,662,996,151,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);